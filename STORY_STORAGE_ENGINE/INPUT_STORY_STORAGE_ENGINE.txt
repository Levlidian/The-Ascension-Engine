const modifier = (text) => {
  state.storyEngine.turnCounter++;

  if (state.storyEngine.turnCounter % 5 === 0) {
    advanceTime(10);
  }

  const action = parseAction(text);

  if (action === "TIME_CHECK") state.storyEngine.forceTimeReadout = true;
  if (action === "WAIT") advanceTime(30);
  if (action === "SLEEP") advanceTime(480);
  if (action === "DETAIL_UP") state.storyEngine.responseStyle = "Novel";
  if (action === "DETAIL_DOWN") state.storyEngine.responseStyle = "Short";

  if (text.toLowerCase().includes("a stranger")) generateNPC();

  if (typeof InnerSelfInput === "function") text = InnerSelfInput(text);
  return { text };
};

modifier(text);
